# QA Report: CRUD книг в панели сотрудника

**Дата:** 2026-02-25 18:45  
**Тестировщик:** MoltBot (тимлид/QA)  
**Статус:** ✅ PASS (с незначительным замечанием)

---

## Результаты тестирования

### API Endpoints

| Endpoint | Метод | Статус | Примечание |
|----------|-------|--------|------------|
| `/api/v1/authors` | GET | ✅ PASS | Возвращает список авторов |
| `/api/v1/auth/login` | POST | ✅ PASS | OAuth2 form-based логин работает |
| `/api/v1/books` | POST | ✅ PASS | Создание книги работает |
| `/api/v1/books/{id}` | PUT | ✅ PASS | Обновление книги работает |
| `/api/v1/books/{id}` | DELETE | ✅ PASS | Удаление книги работает |

### Функциональные тесты

#### ✅ Создание книги
- POST создаёт книгу с корректными данными
- Ответ содержит все поля + ID + created_at

#### ✅ Редактирование книги  
- PUT обновляет поля (title, year, description)
- updated_at обновляется автоматически
- Проверка через GET — изменения сохранены

#### ✅ Удаление книги
- DELETE удаляет книгу
- GET /books/{id} возвращает 404 после удаления

#### ⚠️ Валидация (частично)
- ✅ Без author_id — ошибка 422 (Field required)
- ⚠️ Пустой title — принимается (рекомендуция: добавить min_length)

---

## Баг-репорт

**[MINOR] Валидация пустого названия книги**
- **Приоритет:** Низкий
- **Описание:** API принимает пустую строку `"title":""` без ошибки валидации
- **Ожидаемое поведение:** Ошибка 422 с сообщением "Title cannot be empty"
- **Влияние:** Низкое (фронтенд валидирует перед отправкой)
- **Рекомендация:** Добавить `min_length=1` в Pydantic схему BookCreate

---

## Вывод

**Phase 2 — Высокий приоритет: ГОТОВО** ✅

- Пагинация: реализована и протестирована
- CRUD книг: реализован и протестирован

Можно переходить к задачам среднего приоритета Phase 2.
